<div id="curtain-wrapper">
  <!-- Curtains -->
  <div id="curtain-left" class="curtain"></div>
  <div id="curtain-right" class="curtain"></div>

  <!-- Center Container -->
  <div id="curtain-center">
    <img
      src="https://cdn.shopify.com/s/files/1/0694/7661/4309/files/sana_khanj_logo_white.png?v=1763451626"
      alt="Logo"
      class="curtain-logo"
    >
    <p class="curtain-text">Effortless luxury. Unmatched detail.</p>
    <div class="curtain-input">
      <input id="curtain-input" type="password" placeholder="Enter password">
      <button id="curtain-btn">Enter Store</button>
      <p id="curtain-error" style="display:none;">Incorrect password</p>
    </div>
  </div>
</div>

<style>
    /* OVERLAY */
    #curtain-wrapper {
      position: fixed;
      inset: 0;
      width: 100vw;
      height: 100vh;
      z-index: 999999;
      overflow: hidden;
  visibility: hidden;  /* default hidden */
  opacity: 0;          /* default hidden */
    }

    /* CURTAINS */
    .curtain {
      position: absolute;
      top: 0;
      width: 50vw;
      height: 100vh;
      background-size: cover;
      background-position: center;
      will-change: transform;
      transform: translate3d(0,0,0);
      transition: transform 1.2s cubic-bezier(0.25, 0.8, 0.35, 1);
    }

    #curtain-left {
      left: 0;
      background-image: url(https://cdn.shopify.com/s/files/1/0694/7661/4309/files/Left_curtain.avif?v=1763451425);
    }

    #curtain-right {
      right: 0;
      background-image: url(https://cdn.shopify.com/s/files/1/0694/7661/4309/files/Right_curtain.avif?v=1763451425);
    }

    /* CENTER CONTENT */
    #curtain-center {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
      color: #fff;
      opacity: 1;
      transition: opacity .6s ease;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .curtain-logo {
      width: 210px;
      margin-bottom: 20px;
    }

    .curtain-text {
      margin-bottom: 40px;
      font-size: 18px;
      margin-top: 20px !important;
      opacity: .75;
    }

    #curtain-input {
      padding: 10px 15px;
      width: 240px;
      height: 40px;
      color: #fff;
      border: solid 1px #fff;
      background-color: transparent;
      outline: none;
    }

    #curtain-input::placeholder {
      color: #fff;
    }

    .curtain-input {
      display: flex;
      gap: 10px;
      justify-content: center;
      align-items: center;
    }

    #curtain-btn {
      padding: 10px 18px;
      cursor: pointer;
      border: none;
      background: #fff;
      color: #000;
      font-weight: 500;
      height: 40px;
    }

    #curtain-error {
      color: #ff4b4b;
      margin-top: 10px;
    }
    @media(max-width: 756px){
    .curtain-input{
        width: 80vw;
        flex-direction: column;  }
    #curtain-input{
    width: 100%;
  }
  #curtain-btn{
    width: 100%;
  }
  }
</style>

<script>
document.addEventListener('DOMContentLoaded', function () {
  const wrapper = document.getElementById('curtain-wrapper');
  const btn = document.getElementById('curtain-btn');
  const input = document.getElementById('curtain-input');
  const error = document.getElementById('curtain-error');
  const left = document.getElementById('curtain-left');
  const right = document.getElementById('curtain-right');
  const center = document.getElementById('curtain-center');

  // If password already passed â†’ REMAIN HIDDEN (no flicker)
  if (localStorage.getItem('curtain_passed')) return;

  // SHOW INSTANTLY BEFORE FIRST PAINT
  requestAnimationFrame(() => {
    wrapper.style.visibility = 'visible';
    wrapper.style.opacity = '1';
  });

  // Disable scroll
  document.body.style.overflow = 'hidden';

  btn.addEventListener('click', function () {
    const pass = input.value.trim();

    if (pass !== 'luxe') {
      error.style.display = 'block';
      return;
    }

    error.style.display = 'none';

    // Smooth 3D slide
    left.style.transform = 'translate3d(-100%, 0, 0)';
    right.style.transform = 'translate3d(100%, 0, 0)';
    center.style.opacity = '0';

    localStorage.setItem('curtain_passed', 'true');

    setTimeout(() => {
      wrapper.style.opacity = '0';
      wrapper.style.visibility = 'hidden';
      document.body.style.overflow = '';
    }, 1200);
  });
});
</script>